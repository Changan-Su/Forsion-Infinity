# 小红书风格视图功能 - 快速测试指南

## 测试步骤

### 1. 访问测试页面

1. 打开浏览器访问：**http://localhost:3000**
2. 登录您的 Misskey 账号
3. 点击左侧导航栏的 **"发现"** 或 **"Explore"**（探索）
4. 确保您在 **"精选"（Featured）** 标签页

### 2. 测试视图切换

您应该能在页面右上角看到三个视图切换按钮：

| 按钮 | 图标 | 功能 |
|------|------|------|
| 列表 | 📋 (ti-list) | 传统列表视图 |
| 瀑布流 | 🔲 (ti-layout-grid) | 多列卡片视图 |
| 紧凑 | ⬜ (ti-layout-columns) | 双列紧凑视图 |

**测试内容：**
- [ ] 点击每个按钮，视图应该正确切换
- [ ] 激活的按钮应该有高亮显示
- [ ] 刷新页面后，应该保持上次选择的视图模式

### 3. 测试瀑布流视图

切换到瀑布流视图后，测试以下功能：

#### 卡片显示
- [ ] 有封面图片的帖子应该显示图片
- [ ] 无图片的帖子应该显示文字背景（渐变色）
- [ ] 标题文字应该显示（最多 2 行，超过会截断）
- [ ] 底部应该显示：用户头像、用户名、点赞数

#### 媒体标识
- [ ] 视频帖子右上角应该有视频图标
- [ ] GIF 帖子右上角应该有 GIF 图标

#### 交互效果
- [ ] 鼠标悬停在卡片上应该有轻微上浮和阴影效果
- [ ] 点击卡片应该跳转到帖子详情页

### 4. 测试响应式布局

**桌面端测试：**
1. 将浏览器窗口调整到不同宽度，观察列数变化：
   - [ ] 超过 1200px：5 列
   - [ ] 900-1200px：4 列
   - [ ] 600-900px：3 列
   - [ ] 小于 600px：2 列

**移动端测试：**
1. 打开浏览器开发者工具（F12）
2. 切换到移动设备模拟模式
3. 选择不同设备：
   - [ ] iPhone 12 Pro (390px)：应该显示 2 列
   - [ ] iPad (768px)：应该显示 3 列
   - [ ] 小屏手机 (320px)：应该显示 2 列

### 5. 测试紧凑视图

切换到紧凑视图后：
- [ ] 应该固定显示 2 列
- [ ] 卡片间距应该更小（8px）
- [ ] 在所有屏幕尺寸上都保持 2 列

### 6. 测试无限滚动

- [ ] 滚动到页面底部
- [ ] 应该自动加载更多内容
- [ ] 新加载的卡片应该正确显示

### 7. 测试边界情况

- [ ] 没有精选帖子时应该显示空状态提示
- [ ] 只有文字没有图片的帖子应该显示文字背景
- [ ] 点赞数为 0 时应该只显示图标，不显示数字
- [ ] 用户名过长时应该正确截断

## 已知问题

1. **等高网格 vs 真瀑布流**
   - 当前实现使用 CSS Grid，所有卡片等高
   - 未来可以实现真正的瀑布流效果（不等高）

2. **图片比例**
   - 封面固定为 3:4 比例
   - 原图可能被裁剪（使用 object-fit: cover）

## 如果遇到问题

### 页面显示错误

1. 检查浏览器控制台（F12）是否有错误信息
2. 检查终端是否有编译错误
3. 尝试刷新页面（Ctrl+F5 或 Cmd+Shift+R）

### 视图切换按钮不显示

1. 确认您在 "精选" 标签页（不是 "投票" 标签页）
2. 检查浏览器窗口宽度，确保有足够空间显示按钮

### 卡片显示异常

1. 确保数据库中有精选帖子
2. 尝试切换回列表视图，检查是否能正常显示
3. 清除浏览器缓存和 localStorage

### 响应式布局不工作

1. 确保浏览器支持 CSS Container Queries（现代浏览器应该都支持）
2. 检查浏览器版本是否过旧
3. 尝试使用 Chrome 或 Firefox 最新版本

## 成功标准

以下所有项目都应该正常工作：

- [x] 三个视图切换按钮可见且可点击
- [x] 视图切换功能正常
- [x] 视图偏好保存和恢复
- [x] 卡片正确显示封面、标题、用户信息
- [x] 响应式布局在各断点正常工作
- [x] 无图片帖子有优雅降级
- [x] 点击卡片可以跳转
- [x] 无限滚动正常工作

---

**测试时间：** 2026-02-03  
**测试环境：** 开发环境（pnpm dev）  
**测试地址：** http://localhost:3000

如果所有测试通过，功能开发完成！🎉
